export interface PatchNote {
  version: string;
  date: string;
  title: string;
  changes: string[];
}

export const PATCH_NOTES: PatchNote[] = [
  {
    version: "0.3.0",
    date: "2026-02-20",
    title: "AI Portrait Generation",
    changes: [
      "New AI portrait generator — describe your character and get a full-body token sprite generated by Gemini, right from the character sheet",
      "Choose from three art styles: JRPG, Fantasy, or Pixel",
      "Generated portraits auto-remove the white background for clean transparency on any map",
      "Use the generated image directly as your token avatar with one click",
    ],
  },
  {
    version: "0.2.9",
    date: "2026-02-17",
    title: "Scenes & AI Combat Improvements",
    changes: [
      "New scene system — create multiple scenes per map and switch between them to organize encounters, rooms, and story beats",
      "Walls and terrain areas — draw walls, doors, pillars, and terrain zones (difficult terrain, water, lava, pits, darkness) that affect combat tactics",
      "AI DM now respects walls and line of sight — ranged attacks and spells are blocked by walls, and cover bonuses are applied automatically",
      "Distance annotations show cover status between combatants (½ cover, ¾ cover, or blocked by wall)",
      "Quick-fill chips on your turn — tap Action, Bonus, Attack, Cast, Disengage, or Hide to speed up action declarations",
      "AI no longer suggests bonus actions or reactions to players — resolve only what you declare",
      "Automatic AI prompts (Continue, monster turns, new rounds) no longer clutter the chat",
      "Killing blows skip weapon property effects (Vex, Topple, etc.) — death-triggered monster abilities like Death Burst still fire",
    ],
  },
  {
    version: "0.2.8",
    date: "2026-02-16",
    title: "AI DM Assistant",
    changes: [
      "New AI DM assistant powered by Gemini — helps the Dungeon Master narrate combat, resolve monster turns, and adjudicate rules during encounters",
    ],
  },
  {
    version: "0.2.7",
    date: "2026-02-12",
    title: "Session Planner & Availability Calendar",
    changes: [
      "New weekly availability calendar — click-and-drag to mark when you're free, visible to your whole group",
      "Touch-hold to create availability blocks on mobile — quick swipes still scroll normally",
      "Overlapping blocks auto-merge on the server so adjacent or overlapping times become one clean span",
      "Real-time sync via WebSocket — see other members' availability appear as they add or remove blocks",
      "Overlap indicators show how many players are free per time slot when 2 or more overlap",
      "\"All Free\" badge with D20 icon appears when every group member is available in a slot",
      "All-free time slots listed as records below the members panel with day and time range",
      "Vote Local or Virtual on each all-free slot — vote counts update in real-time for the whole group",
      "Mini month calendar in the sidebar for quick week navigation",
      "Toggle member visibility to show or hide individual members' availability blocks",
      "Fixed text cursor appearing on non-input elements across the app",
      "Mobile viewport locked to screen height on all pages to prevent body scroll",
    ],
  },
  {
    version: "0.2.6",
    date: "2026-02-12",
    title: "Group Switcher",
    changes: [
      "New group switcher dropdown — quickly switch between Personal Maps and any group from every page",
      "Personal Maps now appears as an entry in the switcher so navigating between groups and personal feels unified",
      "Group page header simplified — greeting is now the title, group name shown in the switcher",
      "Your group role (owner/admin/member) now displays next to the Group Maps heading with color-coded badges",
      "New Map button moved next to the Group Maps heading for quicker access",
    ],
  },
  {
    version: "0.2.5",
    date: "2026-02-11",
    title: "Monster Compendium",
    changes: [
      "New Monster Compendium in the token panel — search and place 334 SRD monsters with pre-filled stat blocks",
      "Search monsters by name, filter by Challenge Rating and creature type",
      "Preview and edit monster stats (AC, HP, speed, abilities) before placing — customize templates on the fly",
      "Upload or pick an image for monster tokens — applied to all tokens in a batch",
      "Add multiple monsters at once with the quantity selector — auto-creates a monster group for shared initiative",
      "Tokens auto-size based on creature size (Large=2 cells, Huge=3, Gargantuan=4) with type-based colors",
      "Character sheets auto-populate with full stat blocks including abilities, weapons, features, spells, and traits",
      "Speed type toggle (Run/Fly/Swim/Burrow/Climb) now styled as a clickable pill so it's clearly interactive",
      "Fixed level input clipping for two-digit levels (10–20)",
    ],
  },
  {
    version: "0.2.4",
    date: "2026-02-11",
    title: "Chat, Dice & Whispers",
    changes: [
      "New session chat panel — send messages, roll dice, and whisper all from one place",
      "Roll dice inline with /r (e.g. /r 1d20+5) — results show the breakdown and total for everyone",
      "Quick-roll dice buttons with configurable count and modifier — tap d4 through d100 without typing",
      "Select a token before rolling to attribute the roll to that character",
      "Whisper private messages to any online player with /w — autocomplete dropdown shows who's available",
      "Use /dmw to whisper a text message directly to the DM without selecting a target",
      "Secret dice rolls with /dr — only you and the DM see the result",
      "Whisper messages appear in purple with italic text so they stand out from public chat",
      "Whisper target stays active after sending so you can send multiple private messages in a row",
      "Mobile chat opens as a floating overlay from the bottom — tap the chat bubble to toggle",
      "Mobile chat overlay takes up 40% of the screen so your tokens stay visible while chatting",
      "Mobile unit list and combat controls consolidated into a single panel — initiative order, turn controls, and token list in one place",
      "Chat messages now batch-persist to the database every 30 seconds instead of per-message, reducing server load",
      "Characters page now adapts to phone and tablet screens — header stacks vertically, cards stack, and padding scales down",
      "Deleting a character now shows a styled confirmation modal instead of the browser default dialog",
    ],
  },
  {
    version: "0.2.3",
    date: "2026-02-10",
    title: "Mobile Character Sheet & Session Scheduling",
    changes: [
      "Character sheet now goes full-screen on mobile for maximum editing space",
      "Mobile character sheet splits into three pages — Stats, Spells, and Gear/Bio — navigated via a segmented pill bar",
      "Sticky header restructured for mobile into three compact rows: avatar and name, stat strip, and condition/toggles",
      "Race, class, coins, death saves, and hit dice move from the header into dedicated sections on the Stats page on mobile",
      "Weapons display as stacked cards on mobile — name, bonus/dice/damage type, and notes each get their own row",
      "Spells display as cards on mobile — level, name, and concentration on top; range, material, and notes below",
      "Equipment displays as cards on mobile — item name with equipped toggle, quantity and recharge, then notes",
      "Touch-friendly input sizing on mobile — larger padding, bigger toggle buttons and checkboxes",
      "Autocomplete fields (weapons, traits, feats, proficiencies, languages) now expand to show full text on focus and collapse on blur",
      "Switching between mobile and desktop viewports automatically clamps to the correct page count",
      "Propose upcoming session times in your group with optional notes — up to five active proposals",
      "Group members can RSVP as available or unavailable for each proposed session",
      "Session proposals show a summary of who's available, unavailable, or hasn't responded yet",
      "Session proposals can be flagged as Virtual or In Person with a segmented toggle",
      "Proposers and group admins can delete session proposals",
    ],
  },
  {
    version: "0.2.2",
    date: "2026-02-09",
    title: "Mobile Improvements",
    changes: [
      "Two-finger drag to pan the map on any tool — no need to switch to the Pan tool on mobile",
      "Pinch-to-zoom on mobile and tablet, centered between your fingers",
      "Touching a token now reveals its info (name, HP, AC, condition) just like hovering with a mouse",
      "Locked tokens also show their info on touch",
      "Maps page now adapts to phone and tablet screens — header stacks vertically, buttons wrap, and padding scales down",
      "Filter tabs use compact sizing on small screens so more fit without scrolling",
    ],
  },
  {
    version: "0.2.1",
    date: "2026-02-06",
    title: "Character Sheet Autocomplete & Rendering Fixes",
    changes: [
      "Zoom bar now has tap-friendly + and − buttons for tablet and mobile users",
      "Hold zoom buttons to ramp speed — short holds zoom slowly, long holds accelerate to min/max",
      "Autocomplete dropdowns no longer open on focus — suggestions only appear once you start typing",
      "Character sheet fields now suggest D&D 5e options as you type — races, classes, subclasses, backgrounds, spells, weapons, equipment, feats, languages, species traits, magic items, and more",
      "Subclass suggestions update dynamically based on the selected class",
      "Spell name suggestions filter by the spell's level",
      "Comma-separated fields (languages, feats, species traits, proficiencies) now autocomplete each entry individually — already-chosen values are excluded from suggestions",
      "All autocomplete fields still accept free-text for homebrew content",
      "All free-text fields now auto-expand to fit their content on focus and collapse on blur",
      "D&D reference data updated to the 2024 Player's Handbook with 2014 PHB entries retained",
      "Equipment databank expanded to 200+ items covering the full PHB equipment tables",
      "Patch notes panel now lets you toggle between the latest two versions from the header",
      "Character sheet remembers which page you were on per token — reopening a sheet returns to the last viewed page",
      "Group invitations now send an email to the invited person with the join link",
      "Accepting a group invitation now requires the logged-in email to match the invited email",
      "Fixed owned tokens rendering visually behind other tokens despite being interactive on top",
      "Fixed spell row edits being applied to the wrong row when multiple spells exist",
    ],
  },
  {
    version: "0.2.0",
    date: "2026-02-06",
    title: "Real-Time Sync, Combat & Character Sheets",
    changes: [
      "Skill proficiencies now cycle through three states: None, Proficient, and Expertise (doubles proficiency bonus)",
      "Dice rolls are now broadcast to all connected players instantly via WebSocket",
      "AC, HP, condition, and aura changes sync in real-time to all players",
      "Combat state (initiative order, current turn) now persists across page reloads",
      "DM advancing turns auto-saves and syncs to all connected clients",
      "Drawing and erasing now syncs to all players in real-time",
      "Monster AC and HP are now hidden from players (visible for DM only) — health conditions remain visible",
      "Token AC and HP now only display on hover, no longer on selection",
      "Character metadata on hover now shows over other assets like tokens and drawings",
      "Your own tokens now render above locked tokens, making stacked tokens easier to select",
      "Tokens not under fog now render above the fog layer — no more cloud puffs hiding nearby tokens",
      "Tokens under fog no longer show hover metadata or pointer cursor to players",
      "Import a character from your library when double-clicking a token without a sheet",
      "Save a token's character sheet to your personal library directly from the sheet view",
      "Tokens assigned to a new owner now correctly display the existing character sheet",
      "Equipment: Qty and Charges combined into a single current/max field",
      "Fixed recharge dropdown bleeding into the character sheet header when scrolling",
      "Character sheet text fields now auto-expand on focus to reveal long text, and collapse on blur",
      "Read-only character sheet fields (spell name, range, material, equipment, notes) now click to expand",
    ],
  },
];
